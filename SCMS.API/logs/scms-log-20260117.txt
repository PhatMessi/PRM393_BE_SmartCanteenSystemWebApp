2026-01-17 14:32:04.217 +07:00 [INF] User profile is available. Using 'C:\Users\FUJITSU\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2026-01-17 14:32:04.517 +07:00 [INF] Pending Order Cancellation Service is starting.
2026-01-17 14:32:17.293 +07:00 [WRN] The WebRootPath was not found: C:\PRN232\SmartCanteenSystemWebApp\SCMS.API\wwwroot. Static files may be unavailable.
2026-01-17 14:32:17.670 +07:00 [INF] Now listening on: http://localhost:5090
2026-01-17 14:32:17.700 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2026-01-17 14:32:17.852 +07:00 [INF] Hosting environment: Development
2026-01-17 14:32:17.858 +07:00 [INF] Content root path: C:\PRN232\SmartCanteenSystemWebApp\SCMS.API
2026-01-17 14:32:18.123 +07:00 [INF] Executed DbCommand (120ms) [Parameters=[@__tenMinutesAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT o."OrderId", o."OrderDate", o."PickupTime", o."RejectionReason", o."Status", o."TotalPrice", o."UserId", o0."OrderItemId", o0."ItemId", o0."OrderId", o0."PriceAtTimeOfOrder", o0."Quantity"
FROM "Orders" AS o
LEFT JOIN "OrderItems" AS o0 ON o."OrderId" = o0."OrderId"
WHERE o."Status" = 'Pending Payment' AND o."OrderDate" <= @__tenMinutesAgo_0
ORDER BY o."OrderId"
2026-01-17 14:33:18.453 +07:00 [INF] Executed DbCommand (59ms) [Parameters=[@__tenMinutesAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT o."OrderId", o."OrderDate", o."PickupTime", o."RejectionReason", o."Status", o."TotalPrice", o."UserId", o0."OrderItemId", o0."ItemId", o0."OrderId", o0."PriceAtTimeOfOrder", o0."Quantity"
FROM "Orders" AS o
LEFT JOIN "OrderItems" AS o0 ON o."OrderId" = o0."OrderId"
WHERE o."Status" = 'Pending Payment' AND o."OrderDate" <= @__tenMinutesAgo_0
ORDER BY o."OrderId"
2026-01-17 14:34:18.606 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__tenMinutesAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT o."OrderId", o."OrderDate", o."PickupTime", o."RejectionReason", o."Status", o."TotalPrice", o."UserId", o0."OrderItemId", o0."ItemId", o0."OrderId", o0."PriceAtTimeOfOrder", o0."Quantity"
FROM "Orders" AS o
LEFT JOIN "OrderItems" AS o0 ON o."OrderId" = o0."OrderId"
WHERE o."Status" = 'Pending Payment' AND o."OrderDate" <= @__tenMinutesAgo_0
ORDER BY o."OrderId"
2026-01-17 14:34:35.007 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5090/api/auth/login - null null
2026-01-17 14:34:35.140 +07:00 [WRN] Failed to determine the https port for redirect.
2026-01-17 14:34:35.229 +07:00 [INF] CORS policy execution successful.
2026-01-17 14:34:35.248 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5090/api/auth/login - 204 null null 246.3378ms
2026-01-17 14:34:35.259 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5090/api/auth/login - application/json 53
2026-01-17 14:34:35.275 +07:00 [INF] CORS policy execution successful.
2026-01-17 14:34:35.401 +07:00 [INF] Executing endpoint 'SCMS.API.Controllers.AuthController.Login (SCMS.API)'
2026-01-17 14:34:35.501 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(SCMS.Domain.DTOs.LoginDto) on controller SCMS.API.Controllers.AuthController (SCMS.API).
2026-01-17 14:34:35.796 +07:00 [INF] Executed DbCommand (47ms) [Parameters=[@__loginDto_Email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."CreatedAt", u."Email", u."FullName", u."HeadTeacherId", u."MustChangePassword", u."ParentId", u."PasswordHash", u."PasswordResetToken", u."ResetTokenExpires", u."RoleId", r."RoleId", r."RoleName"
FROM "Users" AS u
INNER JOIN "Roles" AS r ON u."RoleId" = r."RoleId"
WHERE u."Email" = @__loginDto_Email_0
LIMIT 2
2026-01-17 14:34:36.534 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2026-01-17 14:34:36.570 +07:00 [INF] Executed action SCMS.API.Controllers.AuthController.Login (SCMS.API) in 1021.8649ms
2026-01-17 14:34:36.577 +07:00 [INF] Executed endpoint 'SCMS.API.Controllers.AuthController.Login (SCMS.API)'
2026-01-17 14:34:36.599 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5090/api/auth/login - 200 null application/json; charset=utf-8 1339.2288ms
2026-01-17 14:34:36.763 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/api/Menu/categories - null null
2026-01-17 14:34:36.783 +07:00 [INF] CORS policy execution successful.
2026-01-17 14:34:36.787 +07:00 [INF] Executing endpoint 'SCMS.API.Controllers.MenuController.GetCategories (SCMS.API)'
2026-01-17 14:34:36.803 +07:00 [INF] Route matched with {action = "GetCategories", controller = "Menu"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategories() on controller SCMS.API.Controllers.MenuController (SCMS.API).
2026-01-17 14:34:36.831 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."CategoryId", c."CategoryName"
FROM "Categories" AS c
2026-01-17 14:34:36.853 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SCMS.Domain.Category, SCMS.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-17 14:34:36.907 +07:00 [INF] Executed action SCMS.API.Controllers.MenuController.GetCategories (SCMS.API) in 97.8723ms
2026-01-17 14:34:36.910 +07:00 [INF] Executed endpoint 'SCMS.API.Controllers.MenuController.GetCategories (SCMS.API)'
2026-01-17 14:34:36.915 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/api/Menu/categories - 200 null application/json; charset=utf-8 151.5721ms
2026-01-17 14:34:36.980 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/api/Menu - null null
2026-01-17 14:34:36.986 +07:00 [INF] CORS policy execution successful.
2026-01-17 14:34:36.992 +07:00 [INF] Executing endpoint 'SCMS.API.Controllers.MenuController.Get (SCMS.API)'
2026-01-17 14:34:37.006 +07:00 [INF] Route matched with {action = "Get", controller = "Menu"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.String, System.Nullable`1[System.Int32]) on controller SCMS.API.Controllers.MenuController (SCMS.API).
2026-01-17 14:34:37.055 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT m."ItemId", m."CategoryId", m."Description", m."ImageUrl", m."InventoryQuantity", m."IsAvailable", m."Name", m."Price", c."CategoryId", c."CategoryName"
FROM "MenuItems" AS m
INNER JOIN "Categories" AS c ON m."CategoryId" = c."CategoryId"
2026-01-17 14:34:37.113 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SCMS.Domain.MenuItem, SCMS.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-17 14:34:37.120 +07:00 [INF] Executed action SCMS.API.Controllers.MenuController.Get (SCMS.API) in 110.1062ms
2026-01-17 14:34:37.122 +07:00 [INF] Executed endpoint 'SCMS.API.Controllers.MenuController.Get (SCMS.API)'
2026-01-17 14:34:37.124 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/api/Menu - 200 null application/json; charset=utf-8 143.9443ms
2026-01-17 14:34:44.011 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5090/api/wallet - null null
2026-01-17 14:34:44.019 +07:00 [INF] CORS policy execution successful.
2026-01-17 14:34:44.021 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5090/api/wallet - 204 null null 10.6557ms
2026-01-17 14:34:44.028 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/api/wallet - application/json null
2026-01-17 14:34:44.036 +07:00 [INF] CORS policy execution successful.
2026-01-17 14:34:44.465 +07:00 [INF] Executing endpoint 'SCMS.API.Controllers.WalletController.GetWallet (SCMS.API)'
2026-01-17 14:34:44.495 +07:00 [INF] Route matched with {action = "GetWallet", controller = "Wallet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetWallet() on controller SCMS.API.Controllers.WalletController (SCMS.API).
2026-01-17 14:34:44.597 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT w."WalletId", w."Balance", w."UserId"
FROM "Wallets" AS w
WHERE w."UserId" = @__userId_0
LIMIT 1
2026-01-17 14:34:44.626 +07:00 [INF] Executing OkObjectResult, writing value of type 'SCMS.Domain.DTOs.WalletDto'.
2026-01-17 14:34:44.633 +07:00 [INF] Executed action SCMS.API.Controllers.WalletController.GetWallet (SCMS.API) in 119.9205ms
2026-01-17 14:34:44.636 +07:00 [INF] Executed endpoint 'SCMS.API.Controllers.WalletController.GetWallet (SCMS.API)'
2026-01-17 14:34:44.640 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/api/wallet - 200 null application/json; charset=utf-8 611.0793ms
2026-01-17 14:34:44.661 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5090/api/wallet/history - null null
2026-01-17 14:34:44.666 +07:00 [INF] CORS policy execution successful.
2026-01-17 14:34:44.668 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5090/api/wallet/history - 204 null null 6.413ms
2026-01-17 14:34:44.673 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/api/wallet/history - application/json null
2026-01-17 14:34:44.682 +07:00 [INF] CORS policy execution successful.
2026-01-17 14:34:44.691 +07:00 [INF] Executing endpoint 'SCMS.API.Controllers.WalletController.GetHistory (SCMS.API)'
2026-01-17 14:34:44.703 +07:00 [INF] Route matched with {action = "GetHistory", controller = "Wallet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHistory() on controller SCMS.API.Controllers.WalletController (SCMS.API).
2026-01-17 14:34:44.719 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT w."WalletId", w."Balance", w."UserId"
FROM "Wallets" AS w
WHERE w."UserId" = @__userId_0
LIMIT 1
2026-01-17 14:34:44.798 +07:00 [INF] Executed DbCommand (17ms) [Parameters=[@__wallet_WalletId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."TransactionId", t."Type", t."Amount", t."Status", t."TransactionDate", t."Description", t."OrderId"
FROM "Transactions" AS t
WHERE t."WalletId" = @__wallet_WalletId_0
ORDER BY t."TransactionDate" DESC
2026-01-17 14:34:44.804 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SCMS.Domain.DTOs.TransactionDetailsDto, SCMS.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-17 14:34:44.823 +07:00 [INF] Executed action SCMS.API.Controllers.WalletController.GetHistory (SCMS.API) in 115.2409ms
2026-01-17 14:34:44.826 +07:00 [INF] Executed endpoint 'SCMS.API.Controllers.WalletController.GetHistory (SCMS.API)'
2026-01-17 14:34:44.829 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/api/wallet/history - 200 null application/json; charset=utf-8 155.4562ms
2026-01-17 14:34:46.403 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5090/api/Orders/my-orders - null null
2026-01-17 14:34:46.410 +07:00 [INF] CORS policy execution successful.
2026-01-17 14:34:46.415 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5090/api/Orders/my-orders - 204 null null 11.46ms
2026-01-17 14:34:46.425 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/api/Orders/my-orders - application/json null
2026-01-17 14:34:46.435 +07:00 [INF] CORS policy execution successful.
2026-01-17 14:34:46.440 +07:00 [INF] Executing endpoint 'SCMS.API.Controllers.OrdersController.GetMyOrders (SCMS.API)'
2026-01-17 14:34:46.449 +07:00 [INF] Route matched with {action = "GetMyOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyOrders() on controller SCMS.API.Controllers.OrdersController (SCMS.API).
2026-01-17 14:34:46.522 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT o."OrderId", o."OrderDate", o."PickupTime", o."RejectionReason", o."Status", o."TotalPrice", o."UserId", t."OrderItemId", t."ItemId", t."OrderId", t."PriceAtTimeOfOrder", t."Quantity", t."ItemId0", t."CategoryId", t."Description", t."ImageUrl", t."InventoryQuantity", t."IsAvailable", t."Name", t."Price"
FROM "Orders" AS o
LEFT JOIN (
    SELECT o0."OrderItemId", o0."ItemId", o0."OrderId", o0."PriceAtTimeOfOrder", o0."Quantity", m."ItemId" AS "ItemId0", m."CategoryId", m."Description", m."ImageUrl", m."InventoryQuantity", m."IsAvailable", m."Name", m."Price"
    FROM "OrderItems" AS o0
    INNER JOIN "MenuItems" AS m ON o0."ItemId" = m."ItemId"
) AS t ON o."OrderId" = t."OrderId"
WHERE o."UserId" = @__userId_0
ORDER BY o."OrderDate" DESC, o."OrderId", t."OrderItemId"
2026-01-17 14:34:46.527 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SCMS.Domain.Order, SCMS.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-17 14:34:46.552 +07:00 [INF] Executed action SCMS.API.Controllers.OrdersController.GetMyOrders (SCMS.API) in 97.6369ms
2026-01-17 14:34:46.555 +07:00 [INF] Executed endpoint 'SCMS.API.Controllers.OrdersController.GetMyOrders (SCMS.API)'
2026-01-17 14:34:46.559 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/api/Orders/my-orders - 200 null application/json; charset=utf-8 133.5902ms
2026-01-17 14:34:59.006 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5090/api/Orders/my-orders - null null
2026-01-17 14:34:59.011 +07:00 [INF] CORS policy execution successful.
2026-01-17 14:34:59.013 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5090/api/Orders/my-orders - 204 null null 7.7667ms
2026-01-17 14:34:59.021 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/api/Orders/my-orders - application/json null
2026-01-17 14:34:59.028 +07:00 [INF] CORS policy execution successful.
2026-01-17 14:34:59.032 +07:00 [INF] Executing endpoint 'SCMS.API.Controllers.OrdersController.GetMyOrders (SCMS.API)'
2026-01-17 14:34:59.034 +07:00 [INF] Route matched with {action = "GetMyOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyOrders() on controller SCMS.API.Controllers.OrdersController (SCMS.API).
2026-01-17 14:34:59.044 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT o."OrderId", o."OrderDate", o."PickupTime", o."RejectionReason", o."Status", o."TotalPrice", o."UserId", t."OrderItemId", t."ItemId", t."OrderId", t."PriceAtTimeOfOrder", t."Quantity", t."ItemId0", t."CategoryId", t."Description", t."ImageUrl", t."InventoryQuantity", t."IsAvailable", t."Name", t."Price"
FROM "Orders" AS o
LEFT JOIN (
    SELECT o0."OrderItemId", o0."ItemId", o0."OrderId", o0."PriceAtTimeOfOrder", o0."Quantity", m."ItemId" AS "ItemId0", m."CategoryId", m."Description", m."ImageUrl", m."InventoryQuantity", m."IsAvailable", m."Name", m."Price"
    FROM "OrderItems" AS o0
    INNER JOIN "MenuItems" AS m ON o0."ItemId" = m."ItemId"
) AS t ON o."OrderId" = t."OrderId"
WHERE o."UserId" = @__userId_0
ORDER BY o."OrderDate" DESC, o."OrderId", t."OrderItemId"
2026-01-17 14:34:59.049 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SCMS.Domain.Order, SCMS.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-17 14:34:59.053 +07:00 [INF] Executed action SCMS.API.Controllers.OrdersController.GetMyOrders (SCMS.API) in 15.6838ms
2026-01-17 14:34:59.061 +07:00 [INF] Executed endpoint 'SCMS.API.Controllers.OrdersController.GetMyOrders (SCMS.API)'
2026-01-17 14:34:59.064 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/api/Orders/my-orders - 200 null application/json; charset=utf-8 42.5508ms
2026-01-17 14:34:59.599 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5090/api/wallet - null null
2026-01-17 14:34:59.604 +07:00 [INF] CORS policy execution successful.
2026-01-17 14:34:59.607 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5090/api/wallet - 204 null null 8.595ms
2026-01-17 14:34:59.618 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/api/wallet - application/json null
2026-01-17 14:34:59.622 +07:00 [INF] CORS policy execution successful.
2026-01-17 14:34:59.632 +07:00 [INF] Executing endpoint 'SCMS.API.Controllers.WalletController.GetWallet (SCMS.API)'
2026-01-17 14:34:59.635 +07:00 [INF] Route matched with {action = "GetWallet", controller = "Wallet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetWallet() on controller SCMS.API.Controllers.WalletController (SCMS.API).
2026-01-17 14:34:59.645 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT w."WalletId", w."Balance", w."UserId"
FROM "Wallets" AS w
WHERE w."UserId" = @__userId_0
LIMIT 1
2026-01-17 14:34:59.650 +07:00 [INF] Executing OkObjectResult, writing value of type 'SCMS.Domain.DTOs.WalletDto'.
2026-01-17 14:34:59.652 +07:00 [INF] Executed action SCMS.API.Controllers.WalletController.GetWallet (SCMS.API) in 13.7976ms
2026-01-17 14:34:59.655 +07:00 [INF] Executed endpoint 'SCMS.API.Controllers.WalletController.GetWallet (SCMS.API)'
2026-01-17 14:34:59.660 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/api/wallet - 200 null application/json; charset=utf-8 41.5212ms
2026-01-17 14:34:59.669 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5090/api/wallet/history - null null
2026-01-17 14:34:59.674 +07:00 [INF] CORS policy execution successful.
2026-01-17 14:34:59.677 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5090/api/wallet/history - 204 null null 7.4191ms
2026-01-17 14:34:59.681 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/api/wallet/history - application/json null
2026-01-17 14:34:59.687 +07:00 [INF] CORS policy execution successful.
2026-01-17 14:34:59.689 +07:00 [INF] Executing endpoint 'SCMS.API.Controllers.WalletController.GetHistory (SCMS.API)'
2026-01-17 14:34:59.693 +07:00 [INF] Route matched with {action = "GetHistory", controller = "Wallet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHistory() on controller SCMS.API.Controllers.WalletController (SCMS.API).
2026-01-17 14:34:59.699 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT w."WalletId", w."Balance", w."UserId"
FROM "Wallets" AS w
WHERE w."UserId" = @__userId_0
LIMIT 1
2026-01-17 14:34:59.711 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__wallet_WalletId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."TransactionId", t."Type", t."Amount", t."Status", t."TransactionDate", t."Description", t."OrderId"
FROM "Transactions" AS t
WHERE t."WalletId" = @__wallet_WalletId_0
ORDER BY t."TransactionDate" DESC
2026-01-17 14:34:59.716 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SCMS.Domain.DTOs.TransactionDetailsDto, SCMS.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-17 14:34:59.718 +07:00 [INF] Executed action SCMS.API.Controllers.WalletController.GetHistory (SCMS.API) in 21.1829ms
2026-01-17 14:34:59.720 +07:00 [INF] Executed endpoint 'SCMS.API.Controllers.WalletController.GetHistory (SCMS.API)'
2026-01-17 14:34:59.722 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/api/wallet/history - 200 null application/json; charset=utf-8 40.9039ms
2026-01-17 14:35:00.099 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/api/Menu/categories - null null
2026-01-17 14:35:00.104 +07:00 [INF] CORS policy execution successful.
2026-01-17 14:35:00.107 +07:00 [INF] Executing endpoint 'SCMS.API.Controllers.MenuController.GetCategories (SCMS.API)'
2026-01-17 14:35:00.111 +07:00 [INF] Route matched with {action = "GetCategories", controller = "Menu"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategories() on controller SCMS.API.Controllers.MenuController (SCMS.API).
2026-01-17 14:35:00.122 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."CategoryId", c."CategoryName"
FROM "Categories" AS c
2026-01-17 14:35:00.127 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SCMS.Domain.Category, SCMS.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-17 14:35:00.131 +07:00 [INF] Executed action SCMS.API.Controllers.MenuController.GetCategories (SCMS.API) in 16.5029ms
2026-01-17 14:35:00.137 +07:00 [INF] Executed endpoint 'SCMS.API.Controllers.MenuController.GetCategories (SCMS.API)'
2026-01-17 14:35:00.144 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/api/Menu/categories - 200 null application/json; charset=utf-8 43.7941ms
2026-01-17 14:35:00.158 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5090/api/Menu - null null
2026-01-17 14:35:00.169 +07:00 [INF] CORS policy execution successful.
2026-01-17 14:35:00.175 +07:00 [INF] Executing endpoint 'SCMS.API.Controllers.MenuController.Get (SCMS.API)'
2026-01-17 14:35:00.177 +07:00 [INF] Route matched with {action = "Get", controller = "Menu"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.String, System.Nullable`1[System.Int32]) on controller SCMS.API.Controllers.MenuController (SCMS.API).
2026-01-17 14:35:00.189 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT m."ItemId", m."CategoryId", m."Description", m."ImageUrl", m."InventoryQuantity", m."IsAvailable", m."Name", m."Price", c."CategoryId", c."CategoryName"
FROM "MenuItems" AS m
INNER JOIN "Categories" AS c ON m."CategoryId" = c."CategoryId"
2026-01-17 14:35:00.201 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SCMS.Domain.MenuItem, SCMS.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2026-01-17 14:35:00.210 +07:00 [INF] Executed action SCMS.API.Controllers.MenuController.Get (SCMS.API) in 25.9043ms
2026-01-17 14:35:00.214 +07:00 [INF] Executed endpoint 'SCMS.API.Controllers.MenuController.Get (SCMS.API)'
2026-01-17 14:35:00.222 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5090/api/Menu - 200 null application/json; charset=utf-8 63.661ms
2026-01-17 14:35:18.636 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__tenMinutesAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT o."OrderId", o."OrderDate", o."PickupTime", o."RejectionReason", o."Status", o."TotalPrice", o."UserId", o0."OrderItemId", o0."ItemId", o0."OrderId", o0."PriceAtTimeOfOrder", o0."Quantity"
FROM "Orders" AS o
LEFT JOIN "OrderItems" AS o0 ON o."OrderId" = o0."OrderId"
WHERE o."Status" = 'Pending Payment' AND o."OrderDate" <= @__tenMinutesAgo_0
ORDER BY o."OrderId"
2026-01-17 14:36:18.630 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tenMinutesAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT o."OrderId", o."OrderDate", o."PickupTime", o."RejectionReason", o."Status", o."TotalPrice", o."UserId", o0."OrderItemId", o0."ItemId", o0."OrderId", o0."PriceAtTimeOfOrder", o0."Quantity"
FROM "Orders" AS o
LEFT JOIN "OrderItems" AS o0 ON o."OrderId" = o0."OrderId"
WHERE o."Status" = 'Pending Payment' AND o."OrderDate" <= @__tenMinutesAgo_0
ORDER BY o."OrderId"
2026-01-17 14:37:18.656 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__tenMinutesAgo_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT o."OrderId", o."OrderDate", o."PickupTime", o."RejectionReason", o."Status", o."TotalPrice", o."UserId", o0."OrderItemId", o0."ItemId", o0."OrderId", o0."PriceAtTimeOfOrder", o0."Quantity"
FROM "Orders" AS o
LEFT JOIN "OrderItems" AS o0 ON o."OrderId" = o0."OrderId"
WHERE o."Status" = 'Pending Payment' AND o."OrderDate" <= @__tenMinutesAgo_0
ORDER BY o."OrderId"
2026-01-17 14:38:06.321 +07:00 [INF] Application is shutting down...
